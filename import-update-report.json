{
  "timestamp": "2026-02-04T19:33:11.237Z",
  "summary": {
    "filesScanned": 550,
    "filesUpdated": 65,
    "importsUpdated": 71,
    "errors": 0
  },
  "updates": [
    {
      "file": "routes/api/v1/admin-escalation.js",
      "changes": [
        {
          "lineNumber": 468,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        },
        {
          "lineNumber": 558,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/admin-escalation.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/admin.js",
      "changes": [
        {
          "lineNumber": 3,
          "old": "const { db, resetToSampleData } = require('../../../db/database');",
          "new": "const { db, resetToSampleData } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/admin.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/ai-automation/analytics/routes.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/ai-automation/analytics/routes.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/ai-automation/assistant/routes.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/ai-automation/assistant/routes.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/ai-automation/follow-up/routes.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/ai-automation/follow-up/routes.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/ai-automation/gebiz/routes.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/ai-automation/gebiz/routes.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/ai-automation/outreach/routes.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/ai-automation/outreach/routes.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/ai-automation/sourcing/routes.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/ai-automation/sourcing/routes.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/ai-automation/tenders/analysis.routes.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/ai-automation/tenders/analysis.routes.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/ai-chat.js",
      "changes": [
        {
          "lineNumber": 277,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/ai-chat.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/auth/helpers/auth-utils.js",
      "changes": [
        {
          "lineNumber": 204,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/auth/helpers/auth-utils.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/auth/routes/core.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/auth/routes/core.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/auth/routes/google.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/auth/routes/google.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/auth/routes/telegram.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/auth/routes/telegram.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/auth/routes/tokens.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/auth/routes/tokens.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/auth/routes/worker.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../../../../db/database');",
          "new": "const { db } = require('../../../../../db');",
          "path": "../../../../../db"
        }
      ],
      "backup": "routes/api/v1/auth/routes/worker.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/availability.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/availability.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/conversations.js",
      "changes": [
        {
          "lineNumber": 9,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/conversations.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/deployments.js",
      "changes": [
        {
          "lineNumber": 3,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/deployments.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/messaging.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/messaging.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/telegram-groups.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/telegram-groups.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/tenders.js",
      "changes": [
        {
          "lineNumber": 3,
          "old": "const { db } = require('../../../db/database');",
          "new": "const { db } = require('../../../db');",
          "path": "../../../db"
        }
      ],
      "backup": "routes/api/v1/tenders.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "routes/api/v1/webhooks/telegram.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../../../db/database');",
          "new": "const { db } = require('../../../../db');",
          "path": "../../../../db"
        }
      ],
      "backup": "routes/api/v1/webhooks/telegram.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "scripts/complete-database-migration.js",
      "changes": [
        {
          "lineNumber": 26,
          "old": "// Handle require('../../../../db/database') - 4 levels up",
          "new": "// Handle require('../../../../db') - 4 levels up",
          "path": "../../../../db"
        },
        {
          "lineNumber": 29,
          "old": "// Handle require('../../../db/database') - 3 levels up",
          "new": "// Handle require('../../../db') - 3 levels up",
          "path": "../../../db"
        },
        {
          "lineNumber": 32,
          "old": "// Handle require('../../db/database') - 2 levels up",
          "new": "// Handle require('../../db') - 2 levels up",
          "path": "../../db"
        },
        {
          "lineNumber": 35,
          "old": "// Handle require('../db/database') - 1 level up",
          "new": "// Handle require('../db') - 1 level up",
          "path": "../db"
        },
        {
          "lineNumber": 38,
          "old": "// Handle require('./db/database') - same level",
          "new": "// Handle require('./db') - same level",
          "path": "./db"
        }
      ],
      "backup": "scripts/complete-database-migration.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "scripts/deploy-template-system.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "scripts/deploy-template-system.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/ad-ml/ab-testing.js",
      "changes": [
        {
          "lineNumber": 7,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/ad-ml/ab-testing.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/ad-ml/index.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/ad-ml/index.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/ad-ml/timing.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/ad-ml/timing.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/ad-ml/trainer.js",
      "changes": [
        {
          "lineNumber": 7,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/ad-ml/trainer.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/admin-escalation-system.js",
      "changes": [
        {
          "lineNumber": 16,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "services/admin-escalation-system.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/ai-chat/tools.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/ai-chat/tools.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/chat-attachments.js",
      "changes": [
        {
          "lineNumber": 14,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "services/chat-attachments.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/conversation-manager.js",
      "changes": [
        {
          "lineNumber": 11,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "services/conversation-manager.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/data-integration/account-data-service.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/data-integration/account-data-service.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/data-integration/audit-logger.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/data-integration/audit-logger.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/data-integration/data-validator.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/data-integration/data-validator.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/data-integration/interview-data-service.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/data-integration/interview-data-service.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/data-integration/job-data-service.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/data-integration/job-data-service.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/data-integration/payment-data-service.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/data-integration/payment-data-service.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/data-integration/withdrawal-data-service.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/data-integration/withdrawal-data-service.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/escalation-analytics.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "services/escalation-analytics.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/intent-classifier/integration.js",
      "changes": [
        {
          "lineNumber": 9,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/intent-classifier/integration.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/intent-classifier/monitoring.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/intent-classifier/monitoring.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/ml/index.js",
      "changes": [
        {
          "lineNumber": 15,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/ml/index.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/ml/trainer.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/ml/trainer.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/quick-replies.js",
      "changes": [
        {
          "lineNumber": 6,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "services/quick-replies.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/telegram-posting/index.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/telegram-posting/index.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/template-responses/admin-interface.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/template-responses/admin-interface.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/template-responses/index.js",
      "changes": [
        {
          "lineNumber": 14,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/template-responses/index.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/template-responses/integration-bridge.js",
      "changes": [
        {
          "lineNumber": 9,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/template-responses/integration-bridge.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "services/template-responses/template-manager.js",
      "changes": [
        {
          "lineNumber": 8,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "services/template-responses/template-manager.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "tests/data-integration/api-endpoints.test.js",
      "changes": [
        {
          "lineNumber": 13,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "tests/data-integration/api-endpoints.test.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "tests/data-integration/integration-layer.test.js",
      "changes": [
        {
          "lineNumber": 10,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "tests/data-integration/integration-layer.test.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "tests/data-integration/security-validation.test.js",
      "changes": [
        {
          "lineNumber": 15,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "tests/data-integration/security-validation.test.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "tests/run-data-integration-tests.js",
      "changes": [
        {
          "lineNumber": 416,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        },
        {
          "lineNumber": 435,
          "old": "const { db } = require('../../db/database');",
          "new": "const { db } = require('../../db');",
          "path": "../../db"
        }
      ],
      "backup": "tests/run-data-integration-tests.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "tests/template-response-integration.test.js",
      "changes": [
        {
          "lineNumber": 9,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "tests/template-response-integration.test.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/acquisition-analytics.js",
      "changes": [
        {
          "lineNumber": 15,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/acquisition-analytics.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/campaign-analytics.js",
      "changes": [
        {
          "lineNumber": 15,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/campaign-analytics.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/candidate-outreach.js",
      "changes": [
        {
          "lineNumber": 14,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/candidate-outreach.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/claude.js",
      "changes": [
        {
          "lineNumber": 16,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/claude.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/engagement-tracking.js",
      "changes": [
        {
          "lineNumber": 14,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/engagement-tracking.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/follow-up-automation.js",
      "changes": [
        {
          "lineNumber": 14,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/follow-up-automation.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/follow-up-sequences.js",
      "changes": [
        {
          "lineNumber": 14,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/follow-up-sequences.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/outreach-automation.js",
      "changes": [
        {
          "lineNumber": 14,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/outreach-automation.js.BEFORE_IMPORT_UPDATE"
    },
    {
      "file": "utils/slm-training-validation.js",
      "changes": [
        {
          "lineNumber": 9,
          "old": "const { db } = require('../db/database');",
          "new": "const { db } = require('../db');",
          "path": "../db"
        }
      ],
      "backup": "utils/slm-training-validation.js.BEFORE_IMPORT_UPDATE"
    }
  ],
  "errors": []
}